(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){e.exports=n(324)},136:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},235:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),i=n.n(r),c=(n(136),n(137),n(125)),l=n.n(c),s=n(16),m=n(25),u=n(17),d=n(31),p=n(32),g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={QRVisible:!1},n.toggleQRVisible=function(e){e&&e.stopPropagation(),n.setState({QRVisible:!n.state.QRVisible})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.QRVisible;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"fixed fixed-qr"},o.a.createElement("div",{className:"qr-code-list",style:e?{display:"block"}:{}},o.a.createElement("div",{className:"qr-code"},o.a.createElement("img",{src:"".concat("http://res.erershop.com","/right_bar_qr1.png"),alt:""}),o.a.createElement("div",{className:"title"},"\u5546\u5bb6\u7248APP")),o.a.createElement("div",{className:"qr-code"},o.a.createElement("img",{src:"".concat("http://res.erershop.com","/right_bar_qr2.png"),alt:""}),o.a.createElement("div",{className:"title"},"\u6d88\u8d39\u7248APP")),o.a.createElement("div",{className:"qr-code"},o.a.createElement("img",{src:"".concat("http://res.erershop.com","/right_bar_qr3.png"),alt:""}),o.a.createElement("div",{className:"title"},"\u52a0\u5165QQ\u7fa4\u4e86\u89e3\u66f4\u591a"))),e&&o.a.createElement("div",{className:"line"}),o.a.createElement("div",{className:"more-qr",onClick:this.toggleQRVisible}),o.a.createElement(l.a,{className:"right-bar"},o.a.createElement("div",{className:"line"}),o.a.createElement("div",{className:"goto-top",id:"back-top"}))))}}]),t}(o.a.Component);n(190),n(191);var h=function(){return o.a.createElement(g,null)},f=(n(71),n(39)),v=n.n(f),b=(n(193),n(42)),E=n.n(b),N=(n(197),n(87)),w=n.n(N),y=(n(199),n(12)),C=n.n(y),T=(n(106),n(41)),S=n.n(T),x=n(127),k=n.n(x).a.create({baseURL:"/",timeout:1e3,method:"get",withCredentials:!0,responseType:"json",responseEncoding:"utf8",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}),O=n(128),j=n.n(O),_=function(e){S.a.error({title:"\u63d0\u793a",content:e,okText:"\u786e\u5b9a"})},I=function(e){return k.get("index.php",{params:{m:"Home",c:"Api",a:"send_validate_code",scene:1,type:"mobile",mobile:e}}).then(function(e){var t=e.data;return 1===(void 0===t?{}:t).status||(_("\u4eca\u5929\u83b7\u53d6\u9a8c\u8bc1\u7801\u8d85\u8fc710\u6761\uff0c\u660e\u5929\u624d\u53ef\u4ee5\u83b7\u53d6"),!1)}).catch(function(e){return console.error("index.php",e),_("\u670d\u52a1\u5f02\u5e38"),!1})},A=function(e,t){return k.post("index.php/Admin/Api/do_login",j.a.stringify({username:e,verify_code:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(-1===n.status)return _(n.msg),!1;var a={username:n.user.mobile,user_id:n.user.user_id};return localStorage.setItem("ererPcuserObj",JSON.stringify(a)),window.location.href="shopmsg.html",!0}).catch(function(e){return console.error("index.php/Admin/Api/do_login",e),_("\u670d\u52a1\u5f02\u5e38"),!1})},P=(n(235),function(e){S.a.error({title:"\u63d0\u793a",content:e,okText:"\u786e\u5b9a"})}),q=60,R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,getCerting:!1,certNoTime:0,logining:!1},n.showModal=function(){n.setState({visible:!0})},n.handleCancel=function(e){n.setState({visible:!1})},n.countTimer=function(){var e=n.state.certNoTime;n.setState({certNoTime:e-1},function(){e>1&&setTimeout(n.countTimer,1e3)})},n.getCert=function(e){n.props.form.validateFields(function(e,t){n.validatePhoneNo(t.phoneNo)&&(n.setState({getCerting:!0}),I(t.phoneNo).then(function(e){e&&n.setState({getCerting:!1,certNoTime:q},function(){setTimeout(n.countTimer,1e3)}),n.setState({getCerting:!1})}).catch(function(e){n.setState({getCerting:!1})}))})},n.validatePhoneNo=function(e){if(e){if(/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test(e))return!0;P("\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u624b\u673a\u53f7\u7801")}else P("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},n.validateCertNo=function(e){if(e)return!0;P("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801")},n.handleSubmit=function(e){e&&e.preventDefault(),n.props.form.validateFields(function(e,t){n.validatePhoneNo(t.phoneNo)&&n.validateCertNo(t.certNo)&&(n.setState({logining:!0}),A(t.phoneNo,t.certNo).then(function(e){n.setState({logining:!1})}).catch(function(e){n.setState({logining:!1})}))})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.showLoginModal=this.showModal}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.getCerting,a=t.certNoTime,r=t.logining;return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{title:"\u6b22\u8fce\u5165\u9a7b",visible:this.state.visible,centered:!0,footer:null,closable:!1,className:"component-login-modal",style:{width:"33.2vw"},maskClosable:!0,onCancel:this.handleCancel},o.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"component-login-form"},o.a.createElement(E.a.Item,null,e("phoneNo")(o.a.createElement(w.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",prefix:o.a.createElement(C.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}))),o.a.createElement(E.a.Item,null,e("certNo")(o.a.createElement(w.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",prefix:o.a.createElement(C.a,{type:"safety-certificate",style:{color:"rgba(0,0,0,.25)"}}),addonAfter:n?o.a.createElement("span",{className:"info"},"\u83b7\u53d6\u4e2d..."):0===a?o.a.createElement("span",{className:"btn-addon info",onClick:this.getCert},"\u83b7\u53d6\u9a8c\u8bc1\u7801"):o.a.createElement("span",{className:"info"},"".concat(a,"\u79d2\u540e\u83b7\u53d6"))}))),o.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,loading:r},"\u767b\u5f55"))))}}]),t}(o.a.Component),F=E.a.create({name:"component-login-form"})(R),Q=n(88),V=n(130),M=n.n(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(h,null),document.getElementById("right-bar-container")),i.a.render(o.a.createElement(F,null),document.getElementById("join-us")),new Q.a(".first-page-container .swiper-container",{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1}}),new Q.a(".collaborator .swiper-container",{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});try{var B=M.a.getParser(window.navigator.userAgent).getBrowser();/Internet Explorer/i.test(B.name)&&Number.parseInt(B.version)<=9&&(document.body.innerHTML="\u4e0d\u652f\u6301\u8be5IE\u7248\u672c\uff0c\u8bf7\u4f7f\u7528IE10\u6216\u8005\u4ee5\u4e0a\u7248\u672c\u7684IE\u6d4f\u89c8\u5668"),console.log("\u5f53\u524d\u6d4f\u89c8\u5668\uff1a",B.name,"\uff1b\u7248\u672c\uff1a",B.version)}catch(D){}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,1,2]]]);
//# sourceMappingURL=main.d6f7c5f3.chunk.js.map