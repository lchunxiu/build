(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{183:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){"use strict";n(200),n(162),n(264);var o=n(1),a=n.n(o),r=n(14),i=n.n(r),c=(n(126),n(76)),l=n.n(c),s=(n(268),n(53)),u=n.n(s),m=(n(269),n(88)),d=n.n(m),f=(n(270),n(30)),p=n.n(f),h=n(44),g=n(56),v=n(46),b=n(63),N=n(64),y=(n(127),n(52)),E=n.n(y),w=n(138),C=n.n(w).a.create({baseURL:"http://www.erershop.com/",timeout:1e3,method:"get",withCredentials:!0,responseType:"json",responseEncoding:"utf8",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}),S=n(139),T=n.n(S),k=function(e){E.a.error({title:"\u63d0\u793a",content:e,okText:"\u786e\u5b9a"})},x=function(e){return C.get("index.php",{params:{m:"Home",c:"Api",a:"send_validate_code",scene:1,type:"mobile",mobile:e}}).then(function(e){var t=e.data;return 1===(void 0===t?{}:t).status||(k("\u4eca\u5929\u83b7\u53d6\u9a8c\u8bc1\u7801\u8d85\u8fc710\u6761\uff0c\u660e\u5929\u624d\u53ef\u4ee5\u83b7\u53d6"),!1)}).catch(function(e){return console.error("index.php",e),k("\u670d\u52a1\u5f02\u5e38"),!1})},A=function(e,t){return C.post("index.php/Admin/Api/do_login",T.a.stringify({username:e,verify_code:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(-1===n.status)return k(n.msg),!1;var o={username:n.user.mobile,user_id:n.user.user_id};return localStorage.setItem("ererPcuserObj",JSON.stringify(o)),window.location.href="shopmsg.html",!0}).catch(function(e){return console.error("index.php/Admin/Api/do_login",e),k("\u670d\u52a1\u5f02\u5e38"),!1})},I=(n(183),function(e){E.a.error({title:"\u63d0\u793a",content:e,okText:"\u786e\u5b9a"})}),O=60,j=function(e){function t(){var e,n;Object(h.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={visible:!1,getCerting:!1,certNoTime:0,logining:!1},n.showModal=function(){n.setState({visible:!0})},n.handleCancel=function(e){n.setState({visible:!1})},n.countTimer=function(){var e=n.state.certNoTime;n.setState({certNoTime:e-1},function(){e>1&&setTimeout(n.countTimer,1e3)})},n.getCert=function(e){n.props.form.validateFields(function(e,t){n.validatePhoneNo(t.phoneNo)&&(n.setState({getCerting:!0}),x(t.phoneNo).then(function(e){e&&n.setState({getCerting:!1,certNoTime:O},function(){setTimeout(n.countTimer,1e3)}),n.setState({getCerting:!1})}).catch(function(e){n.setState({getCerting:!1})}))})},n.validatePhoneNo=function(e){if(e){if(/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test(e))return!0;I("\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u624b\u673a\u53f7\u7801")}else I("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},n.validateCertNo=function(e){if(e)return!0;I("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801")},n.handleSubmit=function(e){e&&e.preventDefault(),n.props.form.validateFields(function(e,t){n.validatePhoneNo(t.phoneNo)&&n.validateCertNo(t.certNo)&&(n.setState({logining:!0}),A(t.phoneNo,t.certNo).then(function(e){n.setState({logining:!1})}).catch(function(e){n.setState({logining:!1})}))})},n}return Object(N.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){for(var e=document.body.querySelectorAll('[href="#login-modal"]'),t=e.length,n=0;n<t;n++)e[n].addEventListener("click",this.showModal,!1)}},{key:"componentWillMount",value:function(){for(var e=document.body.querySelectorAll("click",'[href="#login-modal"]'),t=e.length,n=0;n<t;n++)e[n].removeEventListener(this.showModal)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.getCerting,o=t.certNoTime,r=t.logining;return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{title:"\u6b22\u8fce\u5165\u9a7b",visible:this.state.visible,centered:!0,footer:null,closable:!1,className:"component-login-modal",style:{width:"33.2vw"},maskClosable:!0,onCancel:this.handleCancel},a.a.createElement(u.a,{onSubmit:this.handleSubmit,className:"component-login-form"},a.a.createElement(u.a.Item,null,e("phoneNo")(a.a.createElement(d.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",prefix:a.a.createElement(p.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}))),a.a.createElement(u.a.Item,null,e("certNo")(a.a.createElement(d.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",prefix:a.a.createElement(p.a,{type:"safety-certificate",style:{color:"rgba(0,0,0,.25)"}}),addonAfter:n?a.a.createElement("span",{className:"info"},"\u83b7\u53d6\u4e2d..."):0===o?a.a.createElement("span",{className:"btn-addon info",onClick:this.getCert},"\u83b7\u53d6\u9a8c\u8bc1\u7801"):a.a.createElement("span",{className:"info"},"".concat(o,"\u79d2\u540e\u83b7\u53d6"))}))),a.a.createElement(l.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0,loading:r},"\u767b\u5f55"))))}}]),t}(a.a.Component),F=u.a.create({name:"component-login-form"})(j),_=n(140),M=n.n(_);n(196);i.a.render(a.a.createElement(F,null),document.getElementById("join-us"));try{var P=M.a.getParser(window.navigator.userAgent).getBrowser();/Internet Explorer/i.test(P.name)&&Number.parseInt(P.version)<=9&&(document.body.innerHTML="\u4e0d\u652f\u6301\u8be5IE\u7248\u672c\uff0c\u8bf7\u4f7f\u7528IE10\u6216\u8005\u4ee5\u4e0a\u7248\u672c\u7684IE\u6d4f\u89c8\u5668"),console.log("\u5f53\u524d\u6d4f\u89c8\u5668\uff1a",P.name,"\uff1b\u7248\u672c\uff1a",P.version)}catch(L){}},308:function(e,t,n){e.exports=n(735)},735:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(14),i=n.n(r);n(197);i.a.render(a.a.createElement(function(){return a.a.createElement("div",null,"help me")},null),document.getElementById("root"))}},[[308,3,0]]]);
//# sourceMappingURL=Help.636a4a15.chunk.js.map